# Cloudflare Pages configuration for FUSOU-WEB
name = "fusou"
compatibility_date = "2024-01-01"
pages_build_output_dir = "dist"

# ===== Service Bindings =====
# Connect to separate Workers
[[services]]
binding = "COMPACTION_WORKFLOW"
service = "fusou-workflow"

# ===== R2 Bucket Bindings =====
[[r2_buckets]]
binding = "ASSETS_BUCKET"
bucket_name = "dev-kc-assets"
jurisdiction = "eu"

[[r2_buckets]]
binding = "FLEET_SNAPSHOT_BUCKET"
bucket_name = "dev-kc-fleets"
jurisdiction = "eu"

[[r2_buckets]]
binding = "BATTLE_DATA_BUCKET"
bucket_name = "dev-kc-battle-data"
jurisdiction = "eu"

[[ d1_databases ]]
binding = "ASSET_INDEX_DB"
database_name = "dev_kc_asset_index"

# ===== Queue Bindings =====
# Producer binding (send messages from Pages)
[[queues.producers]]
queue = "dev-kc-compaction-queue"
binding = "COMPACTION_QUEUE"
