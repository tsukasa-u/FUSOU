---
export interface Props {
  headings: {
    slug: string;
    text: string;
    depth: number;
  }[];
}

const { headings } = Astro.props;
---

<div class="sticky top-20">
  <div class="max-h-[calc(100vh-5rem)] overflow-y-auto pr-2">
    <h2 class="text-lg font-bold mb-2">On this page</h2>
    <nav>
      <ul class="space-y-1 text-sm text-gray-500 font-semibold">
        {
          headings.map((heading) => (
            <li class={`heading-level-${heading.depth} hover:text-gray-900`}>
              <a href={`#${heading.slug}`}>{heading.text}</a>
            </li>
          ))
        }
      </ul>
    </nav>
  </div>
</div>

<style>
  .toc ul {
    list-style-type: none;
    padding-left: 0;
  }

  .toc li {
    margin-bottom: 0.5rem;
  }

  /* 階層ごとのスタイル */
  .heading-level-2 {
    padding-left: 1rem;
  }
  .heading-level-3 {
    padding-left: 2rem;
  }
</style>
